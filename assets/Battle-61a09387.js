import{J as _e,r as i,u as fe,a as x,x as ge,K as ve,w as Ce,L as je,M as Ne,O as be,Q as Be,l as Pe,R as Q,T as q,j as e,n as d,e as ee,U as we,V as Le,W as Te,X as Ae,Y as ye,Z as Ie,$ as Se,a0 as De,a1 as Me}from"./index-9b5ce9d7.js";import{P as se}from"./pokeFront-49a9f4d9.js";import{N as g}from"./PokeDex-8ecaea87.js";const Fe="_battle_1kxmp_1",$e="_chosenPokemons_1kxmp_7",Ge="_chosenPokemonsAI_1kxmp_10",Ue="_arena_1kxmp_13",Oe="_errorMessage_1kxmp_27",Re="_moveBox_1kxmp_37",Ee="_list_1kxmp_42",Ye="_item_1kxmp_48",He="_itemAI_1kxmp_53",Ve="_pokeFrontBox_1kxmp_60",Ze="_name_1kxmp_63",Je="_menuGear_1kxmp_71",We="_menu_1kxmp_71",Xe="_menuBackdrop_1kxmp_99",ze="_menuTitle_1kxmp_108",Ke="_menuList_1kxmp_116",Qe="_menuItem_1kxmp_122",qe="_difficultyBox_1kxmp_125",es="_menuText_1kxmp_129",ss="_menuRulesBox_1kxmp_139",ts="_menuRulesBoxOpen_1kxmp_155",as="_rulesTitle_1kxmp_158",ns="_rulesText_1kxmp_167",os="_btn_1kxmp_178",ls="_menuCloseBtn_1kxmp_201",is="_pokemonArenaUser_1kxmp_223",ms="_defeated_1kxmp_233",cs="_pokemonArenaComputer_1kxmp_237",rs="_pokeArenaImage_1kxmp_246",us="_moveUpDown_1kxmp_1",ds="_userAtacking_1kxmp_251",hs="_attackAI_1kxmp_1",xs="_computerAtacking_1kxmp_265",ps="_attackUser_1kxmp_1",ks="_healthBar_1kxmp_290",_s="_health_1kxmp_290",fs="_healthText_1kxmp_302",gs="_userGui_1kxmp_312",vs="_guiPokemonName_1kxmp_320",Cs="_userBtn_1kxmp_328",js="_userGuiPokemonStats_1kxmp_352",Ns="_computerGui_1kxmp_359",bs="_gameFinished_1kxmp_367",Bs="_gameFinishedModal_1kxmp_376",Ps="_gameFinishedTitle_1kxmp_394",ws="_gameFinishedText_1kxmp_403",Ls="_disabledBtn_1kxmp_410",Ts="_pokemonDefending_1kxmp_415",As="_pickedPokemonBar_1kxmp_420",ys="_lostPokemon_1kxmp_438",Is="_lostPokemonList_1kxmp_441",s={battle:Fe,chosenPokemons:$e,chosenPokemonsAI:Ge,arena:Ue,errorMessage:Oe,moveBox:Re,list:Ee,item:Ye,itemAI:He,pokeFrontBox:Ve,name:Ze,menuGear:Je,menu:We,menuBackdrop:Xe,menuTitle:ze,menuList:Ke,menuItem:Qe,difficultyBox:qe,menuText:es,menuRulesBox:ss,menuRulesBoxOpen:ts,rulesTitle:as,rulesText:ns,btn:os,menuCloseBtn:ls,pokemonArenaUser:is,defeated:ms,pokemonArenaComputer:cs,pokeArenaImage:rs,moveUpDown:us,userAtacking:ds,attackAI:hs,computerAtacking:xs,attackUser:ps,healthBar:ks,health:_s,healthText:fs,userGui:gs,guiPokemonName:vs,userBtn:Cs,userGuiPokemonStats:js,computerGui:Ns,gameFinished:bs,gameFinishedModal:Bs,gameFinishedTitle:Ps,gameFinishedText:ws,disabledBtn:Ls,pokemonDefending:Ts,pickedPokemonBar:As,lostPokemon:ys,lostPokemonList:Is};function Ss(b){return _e({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.07095 0.650238C6.67391 0.650238 6.32977 0.925096 6.24198 1.31231L6.0039 2.36247C5.6249 2.47269 5.26335 2.62363 4.92436 2.81013L4.01335 2.23585C3.67748 2.02413 3.23978 2.07312 2.95903 2.35386L2.35294 2.95996C2.0722 3.2407 2.0232 3.6784 2.23493 4.01427L2.80942 4.92561C2.62307 5.2645 2.47227 5.62594 2.36216 6.00481L1.31209 6.24287C0.924883 6.33065 0.650024 6.6748 0.650024 7.07183V7.92897C0.650024 8.32601 0.924883 8.67015 1.31209 8.75794L2.36228 8.99603C2.47246 9.375 2.62335 9.73652 2.80979 10.0755L2.2354 10.9867C2.02367 11.3225 2.07267 11.7602 2.35341 12.041L2.95951 12.6471C3.24025 12.9278 3.67795 12.9768 4.01382 12.7651L4.92506 12.1907C5.26384 12.377 5.62516 12.5278 6.0039 12.6379L6.24198 13.6881C6.32977 14.0753 6.67391 14.3502 7.07095 14.3502H7.92809C8.32512 14.3502 8.66927 14.0753 8.75705 13.6881L8.99505 12.6383C9.37411 12.5282 9.73573 12.3773 10.0748 12.1909L10.986 12.7653C11.3218 12.977 11.7595 12.928 12.0403 12.6473L12.6464 12.0412C12.9271 11.7604 12.9761 11.3227 12.7644 10.9869L12.1902 10.076C12.3768 9.73688 12.5278 9.37515 12.638 8.99596L13.6879 8.75794C14.0751 8.67015 14.35 8.32601 14.35 7.92897V7.07183C14.35 6.6748 14.0751 6.33065 13.6879 6.24287L12.6381 6.00488C12.528 5.62578 12.3771 5.26414 12.1906 4.92507L12.7648 4.01407C12.9766 3.6782 12.9276 3.2405 12.6468 2.95975L12.0407 2.35366C11.76 2.07292 11.3223 2.02392 10.9864 2.23565L10.0755 2.80989C9.73622 2.62328 9.37437 2.47229 8.99505 2.36209L8.75705 1.31231C8.66927 0.925096 8.32512 0.650238 7.92809 0.650238H7.07095ZM4.92053 3.81251C5.44724 3.44339 6.05665 3.18424 6.71543 3.06839L7.07095 1.50024H7.92809L8.28355 3.06816C8.94267 3.18387 9.5524 3.44302 10.0794 3.81224L11.4397 2.9547L12.0458 3.56079L11.1882 4.92117C11.5573 5.44798 11.8164 6.0575 11.9321 6.71638L13.5 7.07183V7.92897L11.932 8.28444C11.8162 8.94342 11.557 9.55301 11.1878 10.0798L12.0453 11.4402L11.4392 12.0462L10.0787 11.1886C9.55192 11.5576 8.94241 11.8166 8.28355 11.9323L7.92809 13.5002H7.07095L6.71543 11.932C6.0569 11.8162 5.44772 11.5572 4.92116 11.1883L3.56055 12.046L2.95445 11.4399L3.81213 10.0794C3.4431 9.55266 3.18403 8.94326 3.06825 8.2845L1.50002 7.92897V7.07183L3.06818 6.71632C3.18388 6.05765 3.44283 5.44833 3.81171 4.92165L2.95398 3.561L3.56008 2.95491L4.92053 3.81251ZM9.02496 7.50008C9.02496 8.34226 8.34223 9.02499 7.50005 9.02499C6.65786 9.02499 5.97513 8.34226 5.97513 7.50008C5.97513 6.65789 6.65786 5.97516 7.50005 5.97516C8.34223 5.97516 9.02496 6.65789 9.02496 7.50008ZM9.92496 7.50008C9.92496 8.83932 8.83929 9.92499 7.50005 9.92499C6.1608 9.92499 5.07513 8.83932 5.07513 7.50008C5.07513 6.16084 6.1608 5.07516 7.50005 5.07516C8.83929 5.07516 9.92496 6.16084 9.92496 7.50008Z",fill:"currentColor"}}]})(b)}const $s=()=>{const[b,F]=i.useState(0),[te,$]=i.useState([""]),[v,B]=i.useState(!0),[G,P]=i.useState(!1),[U,w]=i.useState(!1),[C,O]=i.useState(""),[ae,R]=i.useState(!1),[ne,L]=i.useState(!1),[_,oe]=i.useState(),[h,j]=i.useState(0),[N,T]=i.useState(0),[le,ie]=i.useState(!1),[E,me]=i.useState([]),[ce,re]=i.useState([""]),[ue,Y]=i.useState(!1),[de,H]=i.useState(!1),c=fe(),A=x(ge),p=A.cards,k=x(ve),y=x(Ce),I=x(je),V=x(Ne),m=x(be),he=x(Be);let n=A.pokemonOnArena,o=k.pokemonOnArena;const Z=x(Pe),S=Z.filter(t=>{const a=t.name;return p.some(l=>l.overview.name===a)}),D=Z.filter(t=>{const a=t.name;return k.cards.some(l=>l.name===a)});i.useEffect(()=>{m===!1&&(o=null)},[m]);const J=t=>{c(we(t)),oe(t)},xe=t=>{const a=p.filter(l=>l.overview.name===t);c(q(a[0]))},W=(t,a)=>{if(I===!1)return g.Notify.failure("wait for youre turn User!");let l=o.stats[0].base_stat;const u=o.stats[2].base_stat/10;if(U){let r=a-u;r<0&&(r=0),l-=r,setTimeout(()=>{w(!1)},1e3)}else l-=a;h!==3&&(j(r=>r+=1),console.log(h)),Y(!0),c(Le({health:l,id:t})),setTimeout(()=>{Y(!1)},1500)},X=t=>{if(V===!1)return g.Notify.failure("wait for youre turn Computer!");const a=n.overview.id,l=n.overview.stats[2].base_stat/10;let u=n.overview.stats[0].base_stat;if(G){let r=t-l;r<0&&(r=0),u-=r,setTimeout(()=>{P(!1)},2e3)}else u-=t;N!==3&&(T(r=>r+=1),console.log(h)),H(!0),c(Te({health:u,id:a})),setTimeout(()=>{H(!1)},1500)},pe=()=>{P(!0),h!==3&&j(t=>t+=1),c(Ae()),setTimeout(()=>{w(!1)},2e3)},z=()=>{w(!0),N!==3&&(T(t=>t+=1),console.log(h)),c(ye()),P(!1)},ke=()=>{if((p.length<3||k.cards.length<3)&&g.Notify.warning("Pick difficulty level or add pokemons for battle"),n)B(!1),c(Ie()),c(Q(k.cards[b])),F(t=>t+=1);else{g.Notify.warning("U must pick pokemon to start");return}},M=()=>{c(Se()),F(0),$([""]),j(0)},K=(t,a)=>{if(t==="won"){let l=0;a==="easy"&&(l=1e3),a==="medium"&&(l=1500),c(De(l))}if(t==="lost"){const l=p.map(f=>f.overview.id);let u=[];if(a==="easy"&&u.push(l[Math.floor(Math.random()*l.length)]),a==="medium")for(;u.length<2;){const f=Math.floor(Math.random()*l.length);u.includes(l[f])||u.push(l[f])}const r=p.filter(f=>u.includes(f.overview.id));me(r),c(Me(u))}};return i.useEffect(()=>{if(m!==!1){if(console.log("game logic"),o.stats[0].base_stat<=0){const t=k.cards.findIndex(a=>a.stats[0].base_stat>0);if(t<0)return O("won"),R(!0),L(!0),M(),K("won",_),g.Notify.success(`Congrats ${y.username}, You have won a battle!`);o.stats[0].base_stat<=0&&(c(Q(k.cards[t])),setTimeout(()=>{re(a=>[...a,o.name])},100))}if(I===!1&&V===!0){const t=o.stats[1].base_stat/10,a=o.stats[3].base_stat/10;console.log(N),N===3&&Math.random()>.1?(X(a),console.log("pc SUPERatakuje"),T(0)):Math.random()<.1||h===3&&Math.random()<.5?(z(),console.log("pc DEFENDUJE SIE")):(X(t),console.log("pc ATAKUJE"))}if(n.overview.stats[0].base_stat<=0){const t=p.findIndex(a=>a.overview.stats[0].base_stat>0);if(t<0)return O("lost"),R(!0),L(!0),M(),K("lost",_),g.Notify.success(`You lost! Dont worry ${y.username}, You can try again!`);t>=0&&(c(q(p[t])),setTimeout(()=>{$(a=>[...a,n.overview.name])},100))}}}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:s.battle,children:[e.jsxs("div",{className:s.chosenPokemons,children:[e.jsx("h2",{className:s.name,children:y.username}),A.cards.length<3?e.jsx("p",{className:s.errorMessage,children:"Add more cards to start battle!"}):e.jsx("ul",{className:s.list,children:S==null?void 0:S.map(t=>{let a=s.item;return n!==null&&(a=te.includes(t.name)?`${s.item} ${s.defeated}`:s.item),e.jsx("li",{className:`${a} ${n!==null&&n.overview.name===t.name?s.pickedPokemonBar:""}`,onClick:()=>xe(t.name),children:e.jsx("div",{className:s.pokeFrontBox,children:e.jsx(se,{pokemon:t})})},d())})})]}),e.jsxs("div",{className:s.arena,style:{backgroundImage:"url(https://i.redd.it/dnlz6c3xni951.jpg)"},children:[m&&e.jsxs("p",{className:s.moveBox,children:["Move: ",I?e.jsx("span",{children:"User"}):e.jsx("span",{children:"Computer"})]}),v?null:e.jsx("div",{className:s.menuGear,onClick:()=>B(t=>!t),children:e.jsx(Ss,{size:"36px"})}),v?e.jsxs("div",{className:s.menuBackdrop,children:[e.jsxs("div",{className:s.menu,children:[e.jsx("button",{type:"button",className:s.menuCloseBtn,onClick:()=>B(t=>!t),children:"X"}),e.jsx("h2",{className:s.menuTitle,children:"Menu"}),e.jsxs("ul",{className:s.menuList,children:[e.jsx("li",{className:s.menuItem,children:e.jsx("button",{className:`${s.btn} ${m===!1?"":s.disabledBtn}`,onClick:()=>ke(),disabled:!!m,children:"Start game"})},d()),e.jsx("li",{className:s.menuItem,children:e.jsxs("div",{className:s.difficultyBox,children:[e.jsx("h3",{className:s.menuText,children:"Difficulty:"}),e.jsx("button",{className:`${s.btn} ${m===!1?"":s.disabledBtn}`,type:"button",onClick:()=>J("easy"),children:"Easy"}),e.jsx("button",{className:`${s.btn} ${m===!1?"":s.disabledBtn}`,type:"button",onClick:()=>J("medium"),children:"Medium"})]})},d()),e.jsx("li",{className:s.menuItem,children:e.jsx("button",{className:s.btn,onClick:()=>ie(t=>!t),children:"Rules"})},d()),e.jsx("li",{className:s.menuItem,children:e.jsx("button",{className:`${s.btn} ${m?"":s.disabledBtn}`,onClick:()=>M(),disabled:!m,children:"End game"})},d())]})]}),e.jsxs("div",{className:`${s.menuRulesBox} ${le?s.menuRulesBoxOpen:""}`,children:[e.jsx("h2",{className:s.rulesTitle,children:"Rules"}),e.jsx("p",{className:s.rulesText,children:"During the game you will use three of your pokemons. Use the buttons to perform the appropriate action, such as attack or defense. Your special attack takes 3 rounds to recharge. When you lose on easy you lose one pokemon. If you lose on Medium, you lose two Pokemon. When you win on easy you get 1000 coins. After winning on medium level you get 2000 coins. Have fun pokemon trainer!"})]})]}):null,he&&v===!1&&ae===!0&&ne===!0?e.jsx("div",{className:s.gameFinished,children:e.jsxs("div",{className:s.gameFinishedModal,children:[e.jsx("button",{type:"button",className:s.menuCloseBtn,onClick:()=>L(t=>!t),children:"X"}),e.jsx("h2",{className:s.gameFinishedTitle,children:C==="won"?e.jsx("span",{children:"Congrats You have won a duel!"}):e.jsx("span",{children:"You lost!"})}),C==="won"&&_==="easy"&&e.jsx("div",{children:e.jsx("p",{className:s.gameFinishedText,children:"You have won 1000 coins!"})}),C==="won"&&_==="medium"&&e.jsx("p",{className:s.gameFinishedText,children:"You have won 1500 coins!"}),C==="lost"&&_==="easy"&&e.jsxs("div",{children:[e.jsx("p",{className:s.gameFinishedText,children:"You have lost one of youre cards!. You didnt get coins for this!"}),e.jsx("ul",{children:E.map(t=>e.jsx("li",{className:s.lostPokemon,children:e.jsx(ee,{pokemon:t})},d()))})]}),C==="lost"&&_==="medium"&&e.jsxs("div",{children:[e.jsx("p",{className:s.gameFinishedText,children:"You have lost two of youre cards!. You didnt get coins for this!"}),e.jsx("ul",{className:s.lostPokemonList,children:E.map(t=>e.jsx("li",{className:s.lostPokemon,children:e.jsx(ee,{pokemon:t})},d()))})]})]})}):null,n===null||m===!1?null:e.jsxs("div",{className:s.pokemonArenaUser,children:[e.jsx("img",{className:`${s.pokeArenaImage} ${G?s.pokemonDefending:""} ${ue?s.userAtacking:""}`,alt:"picked Pokemon",src:n.overview.sprites.back_default?n.overview.sprites.back_default:n.overview.sprites.front_default}),e.jsx("h2",{children:n.overview.name}),e.jsx("div",{className:s.healthBar,style:{width:`${n.overview.stats[0].base_stat}px`},children:e.jsx("div",{className:s.health,children:e.jsxs("div",{className:s.healthText,children:["HP:",n.overview.stats[0].base_stat]})})})]}),o===null&&m===!1?null:e.jsxs("div",{className:s.pokemonArenaComputer,children:[e.jsx("img",{className:`${s.pokeArenaImage} ${U?s.pokemonDefending:""} ${de?s.computerAtacking:""}`,alt:"picked Pokemon",src:o.sprites.front_default}),e.jsx("h2",{children:o.name}),e.jsx("div",{className:s.healthBar,style:{width:`${o.stats[0].base_stat}px`},children:e.jsx("div",{className:s.health,children:e.jsxs("div",{className:s.healthText,children:["HP:",o.stats[0].base_stat]})})})]}),n===null||m===!1||v===!0?null:e.jsxs("div",{className:s.userGui,children:[e.jsx("h2",{className:s.guiPokemonName,children:n.overview.name}),e.jsxs("div",{children:[e.jsxs("button",{className:s.userBtn,type:"button",onClick:()=>W(o.id,n.overview.stats[1].base_stat/10),children:["Hit ",n.overview.stats[1].base_stat]}),e.jsxs("button",{className:`${s.userBtn} ${h<3?s.disabledBtn:""}`,type:"button",onClick:()=>{W(o.id,n.overview.stats[3].base_stat/10),j(0)},disabled:h<3,children:["Special Attack"," ",n.overview.stats[3].base_stat]}),e.jsxs("button",{className:s.userBtn,type:"button",onClick:()=>pe(),children:["Defend ",n.overview.stats[2].base_stat]})]}),e.jsx("ul",{className:s.userGuiPokemonStats,children:n==null?void 0:n.overview.stats.map(t=>e.jsx("li",{children:e.jsxs("p",{className:s.statsText,children:[t.stat.name,":"," ",e.jsx("span",{className:s.statsTextOvrl,children:t.base_stat})]})},d()))})]}),o===null||m===!1||v===!0?null:e.jsxs("div",{className:s.computerGui,children:[e.jsx("h2",{className:s.guiPokemonName,children:o.name}),e.jsx("ul",{className:s.userGuiPokemonStats,children:o==null?void 0:o.stats.map(t=>e.jsx("li",{children:e.jsxs("p",{className:s.statsText,children:[t.stat.name,":"," ",e.jsx("span",{className:s.statsTextOvrl,children:t.base_stat})]})},d()))})]})]}),e.jsxs("div",{className:s.chosenPokemonsAI,children:[e.jsx("h2",{className:s.name,children:"AI"}),k.cards.length<3?e.jsx("ul",{className:s.list,children:e.jsx("li",{className:s.item,children:e.jsx("div",{className:s.pokeFrontBox})},d())}):e.jsx("ul",{className:s.list,children:D==null?void 0:D.map(t=>{let a=s.item;return o!==null&&(a=ce.includes(t.name)?`${s.itemAI} ${s.defeated}`:s.item),e.jsx("li",{className:`${a} ${o!==null&&o.name===t.name?s.pickedPokemonBar:""}`,children:e.jsx("div",{className:s.pokeFrontBox,children:e.jsx(se,{pokemon:t})})},d())})})]})]})})};export{$s as default};
